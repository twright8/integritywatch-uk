{"id":"Hl54","dependencies":[{"name":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\package.json","includedInParent":true,"mtime":1711548457737},{"name":"jquery","loc":{"line":6,"column":23,"index":130},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\node_modules\\jquery\\dist\\jquery.js"},{"name":"jquery-ui-bundle","loc":{"line":9,"column":8,"index":191},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\node_modules\\jquery-ui-bundle\\jquery-ui.js"},{"name":"jquery-ui-bundle/jquery-ui.css","loc":{"line":10,"column":8,"index":220},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\node_modules\\jquery-ui-bundle\\jquery-ui.css"},{"name":"datatables.net","loc":{"line":11,"column":9,"index":264},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\node_modules\\datatables.net\\js\\jquery.dataTables.js"},{"name":"datatables.net-dt","loc":{"line":12,"column":9,"index":306},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\node_modules\\datatables.net-dt\\js\\dataTables.dataTables.js"},{"name":"underscore","loc":{"line":14,"column":23,"index":367},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\node_modules\\underscore\\modules\\index-all.js"},{"name":"../public/vendor/js/popper.min.js","loc":{"line":18,"column":7,"index":448},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\public\\vendor\\js\\popper.min.js"},{"name":"../public/vendor/js/bootstrap.min.js","loc":{"line":19,"column":7,"index":492},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\public\\vendor\\js\\bootstrap.min.js"},{"name":"d3-request","loc":{"line":21,"column":21,"index":587},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\node_modules\\d3-request\\index.js"},{"name":"../public/vendor/css/bootstrap.min.css","loc":{"line":23,"column":7,"index":610},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\public\\vendor\\css\\bootstrap.min.css"},{"name":"../public/vendor/css/dc.css","loc":{"line":24,"column":7,"index":659},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\public\\vendor\\css\\dc.css"},{"name":"/scss/main.scss","loc":{"line":25,"column":7,"index":697},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\scss\\main.scss"},{"name":"vue","loc":{"line":27,"column":16,"index":735},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\node_modules\\vue\\dist\\vue.esm.js"},{"name":"./components/Loader.vue","loc":{"line":28,"column":19,"index":762},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\components\\Loader.vue"},{"name":"./components/ChartHeader.vue","loc":{"line":29,"column":24,"index":814},"parent":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\tab_a.js","resolved":"C:\\Users\\tom.wright\\PycharmProjects\\UK_meetings_app\\ukapp\\integritywatch-uk\\src\\components\\ChartHeader.vue"}],"generated":{"js":"\"use strict\";var e=o(require(\"underscore\"));require(\"../public/vendor/js/popper.min.js\"),require(\"../public/vendor/js/bootstrap.min.js\");var t=require(\"d3-request\");require(\"../public/vendor/css/bootstrap.min.css\"),require(\"../public/vendor/css/dc.css\"),require(\"/scss/main.scss\");var n=o(require(\"vue\")),r=o(require(\"./components/Loader.vue\")),a=o(require(\"./components/ChartHeader.vue\"));function o(e){return e&&e.__esModule?e:{default:e}}var i=require(\"jquery\");$=window.$=window.jQuery=i,require(\"jquery-ui-bundle\"),require(\"jquery-ui-bundle/jquery-ui.css\"),require(\"datatables.net\")(window,$),require(\"datatables.net-dt\")(window,$),window.underscore=e.default,window._=e.default;var l={page:\"tabA\",loader:!0,readMore:!1,showInfo:!0,showShare:!0,showAllCharts:!0,chartMargin:40,travelFilter:\"all\",charts:{level:{title:\"MINISTERIAL LEVEL\",info:\"This pie chart shows the proportion of meetings hosted by the level of Ministerial office. Click on the pie chart to filter the rest of the tool by the level of Ministerial office.\"},department:{title:\"Top 10 Departments\",info:\"Filter by department.\"},hosts:{title:\"TOP 10 HOSTS\",info:\"This bar chart shows the Ministers who have had the most contact with lobby organisations. When Ministers meet several lobby organisations in a single meeting, the tool counts it as one single meeting. The number of contacts can therefore be higher than the number of meetings diplayed on this portal. Click on the bar chart to filter the rest of the tool by Minister.\"},organizations:{title:\"Top 10 Lobbyists\",info:\"This bar chart shows the lobby organisations who have had the most contact with Ministers. When Ministers meet several lobby organisations in a single meeting, the tool counts it as one single meeting. The number of contacts can therefore be higher than the number of meetings diplayed on this portal.  Click on the bar chart to filter the rest of the tool by lobby organisation.\"},subject:{title:\"Subjects of lobby meetings\",info:\"This word cloud provides an overview of the most common terms that appear in the subject of meetings between lobby organisations and Ministers. The more meetings on a given subject the bigger it appears in the word cloud.\"},mainTable:{chart:null,type:\"table\",title:\"Table\",info:\"This table presents a curated list of meetings filtered based on your selections. Use the filters above to refine the view according to meeting date, department, policy level, and other criteria.\"}},selectedElement:{P:\"\",Sub:\"\"},modalShowTable:\"\",colors:{generic:[\"#981b48\",\"#b7255a\",\"#d73771\",\"#ec5189\",\"#ec7ca6\"],default:\"#d73771\",default1:\"#3694d1\",colorSchemeCloud:[\"#981b48\",\"#b7255a\",\"#d73771\",\"#ec5189\",\"#ec7ca6\",\"#f9b41b\",\"#e77a31\",\"#ffc138\"]}};n.default.component(\"chart-header\",a.default),n.default.component(\"loader\",r.default),new n.default({el:\"#app\",data:l,methods:{downloadDataset:function(){window.open(\"./data/iw_uk.csv\")},share:function(e){if(\"twitter\"!=e)if(\"facebook\"!=e);else{n=\"https://www.facebook.com/sharer/sharer.php?u=\"+encodeURIComponent(\"https://openaccess.transparency.org.uk/\");window.open(n,\"_blank\",\"toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=250,top=300,left=300\")}else{var t=window.location.href.split(\"?\")[0],n=\"https://twitter.com/intent/tweet?text=\"+encodeURIComponent(\"Whoâ€™s lobbying the UK Government? Find out here \"+t);window.open(n,\"_blank\")}},copyToClipboard:function(e){var t=document.getElementById(e);t.select(),t.setSelectionRange(0,99999),document.execCommand(\"copy\"),console.log(\"Copied: \"+t.value)}}}),$(function(){$('[data-toggle=\"popover\"]').popover()});var s={level:{chart:dc.pieChart(\"#level_chart\"),type:\"pie\",divId:\"level_chart\"},department:{chart:dc.rowChart(\"#department_chart\"),type:\"row\",divId:\"department_chart\"},hosts:{chart:dc.rowChart(\"#hosts_chart\"),type:\"row\",divId:\"hosts_chart\"},organizations:{chart:dc.rowChart(\"#organizations_chart\"),type:\"row\",divId:\"organizations_chart\"},mainTable:{chart:null,type:\"table\",divId:\"dc-data-table\"}},c=function(e){return document.getElementById(e).offsetWidth-l.chartMargin},d=function(){return[document.getElementById(\"wordcloud_chart_col\").offsetWidth-2*l.chartMargin,550]},u=function(e){return parseInt(e/8)},h=function(e){var t=c(e),n={width:t,height:0,radius:0,innerRadius:0,cy:0,legendY:0};return t<270?(n.height=t+170,n.radius=t/2,n.innerRadius=t/4,n.cy=t/2,n.legendY=t+30):(n.height=.75*t+170,n.radius=.75*t/2,n.innerRadius=.75*t/4,n.cy=.75*t/2,n.legendY=.75*t+30),n},f=function(){for(var e in s)if(\"subject\"==e&&0==l.showAllCharts);else{var t=h(s[e].divId),n=c(s[e].divId),r=u(n);\"row\"==s[e].type?(s[e].chart.width(n),s[e].chart.label(function(e){var t=e.key;return t.indexOf(\"###\")>-1&&(t=t.split(\"###\")[0]),t.length>r?t.substring(0,r)+\"...\":t}),s[e].chart.redraw()):\"bar\"==s[e].type?(s[e].chart.width(n),s[e].chart.rescale(),s[e].chart.redraw()):\"pie\"==s[e].type?(s[e].chart.width(t.width).height(t.height).cy(t.cy).innerRadius(t.innerRadius).radius(t.radius).legend(dc.legend().x(0).y(t.legendY).gap(10).legendText(function(e){var t=e.name;return t.length>r?t.substring(0,r)+\"...\":t})),s[e].chart.redraw()):\"cloud\"==s[e].type&&(s[e].chart.size(d()),s[e].chart.redraw())}};function m(e){return parseInt(e)?e.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"):e}var p=d3.timeParse(\"%d/%m/%Y\");function g(e,t){t||(t=window.location.href),e=e.replace(/[\\[\\]]/g,\"\\\\$&\");var n=new RegExp(\"[?&]\"+e+\"(=([^&#]*)|&|#|$)\").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\\+/g,\" \")):\"\":null}jQuery.extend(jQuery.fn.dataTableExt.oSort,{\"date-eu-pre\":function(e){return e.indexOf(\"Cancelled\")>-1&&(e=e.split(\" \")[0]),p(e)},\"date-eu-asc\":function(e,t){return e<t?-1:e>t?1:0},\"date-eu-desc\":function(e,t){return e<t?1:e>t?-1:0}});for(var w=\"\",b=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",v=0;v<5;v++)w+=b.charAt(Math.floor(Math.random()*b.length));var y={},k=new Date,C=k.getFullYear()+\"-\"+String(k.getMonth()+1).padStart(2,\"0\")+\"-\"+String(k.getDate()).padStart(2,\"0\");k.setFullYear(k.getFullYear()-2);var A=k.getFullYear()+\"-\"+String(k.getMonth()+1).padStart(2,\"0\")+\"-\"+String(k.getDate()).padStart(2,\"0\");function S(){var e=document.getElementById(\"filter-buttons\");e&&(e.innerHTML=\"\"),console.log(A),fetch(\"http://localhost:5000/api/data?start_date=\".concat(A,\"&end_date=\").concat(C)).then(function(e){if(!e.ok)throw new Error(\"Network response was not ok\");return e.json()}).then(function(e){var n=e.data,r=e.max_docs;(0,t.csv)(\"./data/wdtk_departments.csv?\"+w,function(e,t){var a=performance.now();document.querySelector(\".total-counts\").textContent=r.toLocaleString();var o=d3.timeParse(\"%d/%m/%Y\");Date.now();_.each(n,function(e){switch(e.purpose||(e.purpose=\"\"),e.date1=e.date,\"\"!=e.date&&(e.date=o(e.date)),e.policy_level=e.policy_level.trim(),e.portfolio=\"\",e.ministerialLevel=\"Others\",e.policy_level){case\"Prime Minister\":e.ministerialLevel=\"Prime Minister\";break;case\"Chancellor of the Exchequer\":e.ministerialLevel=\"Chancellor of the Exchequer\";break;case\"Secretary of State\":e.ministerialLevel=\"Secretary of State\";break;case\"Minister of State\":e.ministerialLevel=\"Minister of State\";break;case\"Parliamentary Under-Secretary\":e.ministerialLevel=\"Parliamentary Under-Secretary\";break;case\"First Minister\":e.ministerialLevel=\"First Minister\";break;default:e.ministerialLevel=\"Others\"}var n=_.find(t,function(t){return t.dep==e.department});e.department_wdtk=n?n.wdtk_name:\"\";var r=e.organisation;if(r.length>400){var a=(r=r.slice(0,400)).lastIndexOf(\" \");r=r.substring(0,a)+\" ...\"}var i=encodeURI(\"FOI request: Meeting held on \"+e.date1+\" with \"+e.rep_new+\".\"),l=\"Could you please acknowledge my request is being considered.\\r\\nFor the meeting held on \"+e.date1+\" between \"+e.rep_new+\" and \"+r+\", with purpose \"+e.purpose+\"\\r\\ncould you please provide the following information:\\r\\n\\r\\nâ€¢ A full list of attendees, including full names and titles as well as who the attendee represents\\r\\nâ€¢ A copy of the meeting agenda\\r\\nâ€¢ Meeting notes/minutes taken during the meeting, as well as any briefing notes and papers\\r\\nâ€¢ Any correspondence associated with the attendees, including debriefs of the meeting via email or other forms of communication.\\r\\n\";l=encodeURI(l),e.requestFullUrl=\"https://www.whatdotheyknow.com/new/\"+e.department_wdtk+\"?title=\"+i+\"&default_letter=\"+l,e.meetingUrl=window.location.href.split(\"?\")[0]+\"?meeting=\"+e.RecordId});var i=crossfilter(n),m=performance.now()-a;console.log(\"data load: \"+m+\" milliseconds\");a=performance.now();var p=i.dimension(function(e){return(e.rep_new+\" \"+e.organisation+\" \"+e.purpose+\" \"+e.policy_level+\" \"+e.department+\" \"+e.ministerialLevel+\" \"+e.registrant_additional_information).toLowerCase()}),w=i.dimension(function(e){return e.date?e.date:\"\"});document.getElementById(\"exportButton\").addEventListener(\"click\",function(){var e=i.allFiltered(),t=[],n=Object.keys(e[0]);t.push(n.join(\",\")),e.forEach(function(e){var r=n.map(function(t){return JSON.stringify(e[t])});t.push(r.join(\",\"))});var r=t.join(\"\\n\"),a=new Blob([r],{type:\"text/csv;charset=utf-8;\"}),o=URL.createObjectURL(a),l=document.createElement(\"a\");l.setAttribute(\"href\",o),l.setAttribute(\"download\",\"filtered-data.csv\"),l.style.visibility=\"hidden\",document.body.appendChild(l),l.click(),document.body.removeChild(l)});var b=i.dimension(function(e){return e.portal_source}),v=\"All\";document.getElementById(\"filter-source-button\").addEventListener(\"click\",function(){var e=this;e.disabled=!0,e.style.fontWeight=\"bold\",e.style.textTransform=\"uppercase\",requestAnimationFrame(function(){l.loader=!0,setTimeout(function(){switch(v){case\"All\":b.filter(function(e){return\"Scottish lobbying register\"===e}),v=\"Scotland\",e.textContent=\"Scotland\";break;case\"Scotland\":b.filter(function(e){return\"UK Government\"===e}),v=\"UK\",e.textContent=\"UK\";break;case\"UK\":b.filterAll(),v=\"All\",e.textContent=\"All\"}dc.redrawAll(),requestAnimationFrame(function(){e.disabled=!1,l.loader=!1})},0)})});var y=i.dimension(function(e){return e.tag}),k=[];function C(){0===k.length?y.filterAll():y.filter(function(e){return k.includes(e)}),dc.redrawAll()}var S={Climate:\"leaf\",\"Financial Services\":\"piggy-bank\",Health:\"heart-pulse\",Technology:\"microchip\",Defence:\"shield-halved\"},T=[\"Climate\",\"Financial Services\",\"Health\",\"Technology\",\"Defence\"];T.forEach(function(e){var t=document.createElement(\"button\"),n=S[e];t.innerHTML='<i class=\"fa fa-'.concat(n,' icon-white\"></i>'),t.classList.add(\"filter-button\"),t.dataset.filter=e,t.title=e,t.addEventListener(\"click\",function(){var e=this;this.disabled=!0,requestAnimationFrame(function(){l.loader=!0,setTimeout(function(){!function(e){var t=k.indexOf(e);-1===t?k.push(e):k.splice(t,1),C()}(e.dataset.filter),e.classList.toggle(\"active\"),e.classList.contains(\"active\")?e.style.backgroundColor=\"#3694d1\":e.style.backgroundColor=\"\",requestAnimationFrame(function(){e.disabled=!1,l.loader=!1})},0)})}),document.getElementById(\"filter-buttons\").appendChild(t)});var M;var I=$(\"#search-input\");function x(){var e,t=I.val().toLowerCase();p.filter(function(e){var n=e.replace(/ and /gi,\" & \"),r=t.replace(/ and /gi,\" & \").replace(/,/gi,\" \").replace(/  /gi,\" \").split(\" \"),a=!0;return _.each(r,function(e){-1==n.indexOf(e)&&(a=!1)}),a}),window.clearTimeout(e),e=window.setTimeout(function(){dc.redrawAll()},250)}I.on(\"keyup\",function(){clearTimeout(M),M=setTimeout(x,1e3)}),I.on(\"keydown\",function(){clearTimeout(M)});var D=function(e){var t=new Date,n=t.getDate(),r=t.getMonth()+1;return n<10&&(n=\"0\"+n),r<10&&(r=\"0\"+r),t.getFullYear()+e+r+e+n},E=\"dd-mm-yy\",L=$(\"#from\").datepicker({defaultDate:A,changeMonth:!0,dateFormat:\"yy-mm-dd\"}).on(\"change\",function(){q.datepicker(\"option\",\"minDate\",F(this)),F(this)}),q=$(\"#to\").datepicker({defaultDate:D(\"-\"),changeMonth:!0,dateFormat:\"yy-mm-dd\"}).on(\"change\",function(){L.datepicker(\"option\",\"maxDate\",F(this)),F(this)});function F(e){var t;try{t=$.datepicker.parseDate(E,e.value)}catch(n){t=null}return t}$(\"#from\").val(A),$(\"#to\").val(D(\"-\")),$(\"#from\").datepicker(\"getDate\"),$(\"#to\").datepicker(\"getDate\");var j=function(e){$(\"#search-input\").val(e);var t,n=e.toLowerCase();p.filter(function(e){return-1!==e.indexOf(n)}),window.clearTimeout(t),t=window.setTimeout(function(){console.log(\"redraw\"),dc.redrawAll()},250)};$(\".reset-btn\").click(function(){var e=this;this.disabled=!0,requestAnimationFrame(function(){l.loader=!0,setTimeout(function(){!function(){for(var e in s)\"table\"!==s[e].type&&s[e].chart.hasFilter()&&s[e].chart.filterAll();b.filter(null),v=\"All\",document.getElementById(\"filter-source-button\").textContent=\"All\",document.getElementById(\"filter-source-button\").style.fontWeight=\"bold\",p.filter(null),w.filter(null),$(\"#search-input\").val(\"\"),k=[],C(),T.forEach(function(e){var t=document.querySelector('[data-filter=\"'.concat(e,'\"]'));t&&(t.classList.remove(\"active\"),t.style.backgroundColor=\"\")}),dc.redrawAll()}(),requestAnimationFrame(function(){e.disabled=!1,l.loader=!1})},0)})});var R,P,B,O,U;a=performance.now();R=[\"Prime Minister\",\"Chancellor of the Exchequer\",\"Secretary of State\",\"Minister of State\",\"Parliamentary Under-Secretary\",\"First Minister\",\"Others\"],P=s.level.chart,B=i.dimension(function(e){return e.ministerialLevel}),O=B.group().reduceSum(function(e){return 1}),U=h(s.level.divId),P.width(U.width).height(U.height).cy(U.cy).innerRadius(U.innerRadius).radius(U.radius).legend(dc.legend().x(0).y(U.legendY).gap(10).legendText(function(e){var t=e.name;return t.length>40?t.substring(0,40)+\"...\":t})).title(function(e){return e.key+\": \"+e.value}).dimension(B).ordering(function(e){return R.indexOf(e.key)}).ordinalColors([\"#981b48\",\"#b7255a\",\"#d73771\",\"#ec5189\",\"#ec7ca6\",\"#9B72AA\",\"#ccc\"]).group(O),P.render();m=performance.now()-a;console.log(\"Download time level: \"+m+\" milliseconds\");a=performance.now();!function(){var e,t=s.department.chart,n=i.dimension(function(e){return e.department}),r=n.group().reduceSum(function(e){return 1}),a=(e=r,{all:function(){return e.all().filter(function(e){return 0!=e.value}).sort(function(e,t){return t.value-e.value}).slice(0,10)}}),o=c(s.department.divId),d=u(o);t.width(o).height(420).margins({top:0,left:0,right:0,bottom:20}).group(a).dimension(n).colorCalculator(function(e,t){return l.colors.default}).label(function(e){return e.key&&e.key.length>d?e.key.substring(0,d)+\"...\":e.key}).title(function(e){return e.key+\": \"+e.value}).elasticX(!0).xAxis().ticks(4),t.render()}();m=performance.now()-a;console.log(\"department timze: \"+m+\" milliseconds\");a=performance.now();!function(){var e,t=s.hosts.chart,n=i.dimension(function(e){return e.rep_new}),r=n.group().reduceSum(function(e){return 1}),a=(e=r,{all:function(){return e.top(10).filter(function(e){return 0!=e.value})}}),o=c(s.hosts.divId),d=u(o);t.width(o).height(420).margins({top:0,left:0,right:0,bottom:20}).group(a).dimension(n).colorCalculator(function(e,t){return l.colors.default}).label(function(e){return e.key&&e.key.length>d?e.key.substring(0,d)+\"...\":e.key}).title(function(e){return e.key+\": \"+e.value}).elasticX(!0).xAxis().ticks(4),t.render()}();m=performance.now()-a;console.log(\"Download hosts: \"+m+\" milliseconds\");a=performance.now();!function(){var e,t=s.organizations.chart,n=i.dimension(function(e){return e.organisation}),r=n.group().reduceSum(function(e){return 1}),a=(e=r,{all:function(){return e.top(10).filter(function(e){return 0!=e.value})}}),o=c(s.organizations.divId),d=u(o);t.width(o).height(420).margins({top:0,left:0,right:0,bottom:20}).group(a).dimension(n).colorCalculator(function(e,t){return l.colors.default1}).label(function(e){return e.key&&e.key.length>d?e.key.substring(0,d)+\"...\":e.key}).title(function(e){return e.key+\": \"+e.value}).elasticX(!0).xAxis().ticks(4),t.render()}();m=performance.now()-a;console.log(\"Download orgs: \"+m+\" milliseconds\");a=performance.now(),m=performance.now()-a;console.log(\"word timze: \"+m+\" milliseconds\");a=performance.now();!function(){s.mainTable.chart=$(\"#dc-data-table\").dataTable({columnDefs:[{searchable:!1,orderable:!1,targets:0,data:function(e,t,n,r){return 0}},{searchable:!1,orderable:!0,targets:1,defaultContent:\"N/A\",data:function(e){return e.rep_new}},{searchable:!1,orderable:!0,targets:2,defaultContent:\"N/A\",data:function(e){return e.policy_level}},{searchable:!1,orderable:!0,targets:3,defaultContent:\"N/A\",data:function(e){return e.department}},{searchable:!1,orderable:!0,targets:4,defaultContent:\"N/A\",data:function(e){return e.purpose}},{searchable:!1,orderable:!0,targets:5,defaultContent:\"N/A\",data:function(e){return e.organisation}},{searchable:!1,orderable:!0,targets:6,defaultContent:\"N/A\",type:\"date-eu\",data:function(e){return e.date?e.date.getDate()+\"/\"+(1+e.date.getMonth())+\"/\"+e.date.getFullYear():e.date1}}],iDisplayLength:25,bPaginate:!0,bLengthChange:!0,bFilter:!1,order:[[6,\"desc\"]],bSort:!0,bInfo:!0,bAutoWidth:!1,bDeferRender:!0,aaData:p.top(1/0),bDestroy:!0});var e=s.mainTable.chart;e.on(\"draw.dt\",function(){var t=$(\"#dc-data-table\").DataTable().page.info();e.DataTable().column(0,{page:\"current\"}).nodes().each(function(e,n){e.innerHTML=n+1+t.start})}),e.DataTable().draw(),$(\"#dc-data-table tbody\").on(\"click\",\"tr\",function(){var t=e.DataTable().row(this).data();l.selectedElement=t,$(\"#detailsModal\").modal()})}();m=performance.now()-a;console.log(\"table timze: \"+m+\" milliseconds\"),$(\".dataTables_wrapper\").append($(\".dataTables_length\")),l.showAllCharts=!1,$(document).ready(function(){$(\"#charts-toggle-btn\").click(function(){var e=this;this.disabled=!0,requestAnimationFrame(function(){l.loader=!0,setTimeout(function(){var t,n,r,a=performance.now();s.subject||(s.subject={chart:dc.wordCloud(\"#wordcloud_chart\"),type:\"cloud\",divId:\"wordcloud_chart\"}),t=s.subject.chart,n=i.dimension(function(e){return e.purpose||\"\"}),r=n.group().reduceSum(function(e){return 1}),t.dimension(n).group(r).rotate(function(){return 90*~~(2*Math.random())}).maxWords(70).timeInterval(10).duration(200).ordinalColors(l.colors.colorSchemeCloud).size(d()).scale(d3.scaleLinear().domain([5,400]).range([14,25])).font(\"Impact\").stopWords(/^(i|me|my|myself|we|us|our|ours|ourselves|you|your|yours|yourself|yourselves|he|him|his|himself|she|her|hers|herself|it|its|itself|they|them|their|theirs|themselves|what|which|who|whom|whose|this|that|these|those|am|is|are|was|were|be|been|being|have|has|had|having|do|does|did|doing|will|would|should|can|could|ought|i'm|you're|he's|she's|it's|we're|they're|i've|you've|we've|they've|i'd|you'd|he'd|she'd|we'd|they'd|i'll|you'll|he'll|she'll|we'll|they'll|isn't|aren't|wasn't|weren't|hasn't|haven't|hadn't|doesn't|don't|didn't|won't|wouldn't|shan't|shouldn't|can't|cannot|couldn't|mustn't|let's|that's|who's|what's|here's|there's|when's|where's|why's|how's|a|an|the|and|but|if|or|because|as|until|while|of|at|by|for|with|about|against|between|into|through|during|before|after|above|below|to|from|up|upon|down|in|out|on|off|over|under|again|further|then|once|here|there|when|where|why|how|all|any|both|each|few|more|most|other|some|such|no|nor|not|only|own|same|so|than|too|very|say|says|said|shall|la|du|mr|commissioner|et|des|dg|commission|de|pour|en|les|le|meeting|eu|new|priorities|presentation|preparation|issues|meetings|representatives|work|implementation|general|future|challenge|challenge|skey|role|exchange|views|discuss|discussion|various director|talks|position|global|field|level|initiative|company|state|aspects|context|current|change|european|potential|including|dans|within|developments|play|present|PÃ¤ris|Enegry|deep|Susan|Danger|Managing|Director|AmCham|Karl|Cox|Vice|President|Oracle| Bert|Boers|SAS|Marco|Comastri|EMEA|CA|Patrick|Deconinck|Senior|Western|3M|Harry|van| Dorenmalen|Chairman|IBM|Aongus|Hegarty|Dell|Cindy|Miller|UPS|Christian|Morales|Manager|Intel| |JuliÃ¡n|Nebreda|AES|Peter|Ryan|VP|HP|Nigel|Lewis|Caterpillar|Dirk|Ostijn|Head|&| Chief|Executive |Officer|MetLife|CA|flagship|related|portfolio|Cssr|Jourova|(| voting|all|expats|as|part|)|,|Year)$/).onClick(function(e){j(e.key)}).textAccessor(function(e){return e.purpose}),t.size(d()),t.render();var o=performance.now()-a;console.log(\"word timze: \"+o+\" milliseconds\");a=performance.now(),a=performance.now();l.showAllCharts&&f();o=performance.now()-a;console.log(\"resizing: \"+o+\" milliseconds\");a=performance.now();requestAnimationFrame(function(){e.disabled=!1,l.loader=!1})},0)})})}),l.loader=!1;var z=i.groupAll(),Y=dc.dataCount(\".dc-data-count\").dimension(i).group(z);if(Y.render(),Y.on(\"renderlet.resetall\",function(e){dc.events.trigger(function(){var e=p.top(1/0);s.mainTable.chart.fnClearTable(),s.mainTable.chart.fnAddData(e),s.mainTable.chart.fnDraw()})}),window.onresize=function(e){f()},g(\"meeting\")){var H=g(\"meeting\"),N=_.find(n,function(e){return e.RecordId==H});N&&(l.selectedElement=N,$(\"#detailsModal\").modal())}})}).catch(function(e){console.error(\"There was a problem with the fetch operation:\",e)})}function T(){l.loader=!0;var e=document.getElementById(\"from\").value,t=document.getElementById(\"to\").value,n=/^\\d{4}-\\d{2}-\\d{2}$/,r=new Date(e),a=new Date(t);if(!n.test(e)||!n.test(t))return console.error(\"Invalid date format. Please use yyyy-mm-dd format.\"),void(l.loader=!1);e&&t?r<=a?(A=e,C=t,S()):(console.error(\"The start date must be before the end date.\"),l.loader=!1):(console.error(\"Please enter both start and end dates.\"),l.loader=!1)}S();var M=document.getElementById(\"datefilter\");M.addEventListener(\"click\",T);"},"sourceMaps":null,"error":null,"hash":"682b0c7144935948b5f54f66edf36932","cacheData":{"env":{}}}